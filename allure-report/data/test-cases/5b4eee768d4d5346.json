{"uid":"5b4eee768d4d5346","name":"test_partial_update_enterprise_category[test_id-payload0-200]","fullName":"test_api.TestEnterpriseCategory#test_partial_update_enterprise_category","historyId":"a42e7aeaa0c597563fef50034c8fdba7","time":{"start":1745746623154,"stop":1745746623173,"duration":19},"status":"failed","statusMessage":"AssertionError: assert 405 == 200\n +  where 405 = <Response [405]>.status_code","statusTrace":"self = <test_api.TestEnterpriseCategory object at 0x000001ECC85E9A70>, category_id = 'test_id'\npayload = {}, expected_code = 200\n\n    @allure.story(\"部分更新企业内部法规分类\")\n    @pytest.mark.parametrize(\"category_id, payload, expected_code\", [(\"test_id\", {}, 200)])\n    def test_partial_update_enterprise_category(self, category_id, payload, expected_code):\n        url = f\"{BASE_URL}/whiskerguardregulatoryservice/api/enterprise/categories/partialUpdate/{category_id}\"\n        with allure.step(\"发送部分更新企业内部法规分类请求\"):\n            response = requests.post(url, json=payload)\n        with allure.step(\"断言响应状态码和返回字段\"):\n>           assert response.status_code == expected_code\nE           assert 405 == 200\nE            +  where 405 = <Response [405]>.status_code\n\ntest_api.py:43: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":true,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 405 == 200\n +  where 405 = <Response [405]>.status_code","statusTrace":"self = <test_api.TestEnterpriseCategory object at 0x000001ECC85E9A70>, category_id = 'test_id'\npayload = {}, expected_code = 200\n\n    @allure.story(\"部分更新企业内部法规分类\")\n    @pytest.mark.parametrize(\"category_id, payload, expected_code\", [(\"test_id\", {}, 200)])\n    def test_partial_update_enterprise_category(self, category_id, payload, expected_code):\n        url = f\"{BASE_URL}/whiskerguardregulatoryservice/api/enterprise/categories/partialUpdate/{category_id}\"\n        with allure.step(\"发送部分更新企业内部法规分类请求\"):\n            response = requests.post(url, json=payload)\n        with allure.step(\"断言响应状态码和返回字段\"):\n>           assert response.status_code == expected_code\nE           assert 405 == 200\nE            +  where 405 = <Response [405]>.status_code\n\ntest_api.py:43: AssertionError","steps":[{"name":"发送部分更新企业内部法规分类请求","time":{"start":1745746623154,"stop":1745746623173,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"断言响应状态码和返回字段","time":{"start":1745746623173,"stop":1745746623173,"duration":0},"status":"failed","statusMessage":"AssertionError: assert 405 == 200\n +  where 405 = <Response [405]>.status_code\n","statusTrace":"  File \"C:\\Users\\piliz\\AI_test_platform\\test_api.py\", line 43, in test_partial_update_enterprise_category\n    assert response.status_code == expected_code\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"feature","value":"法律法规管理服务-企业内部制度类别"},{"name":"story","value":"部分更新企业内部法规分类"},{"name":"suite","value":"test_api"},{"name":"subSuite","value":"TestEnterpriseCategory"},{"name":"host","value":"PILIZHEN"},{"name":"thread","value":"29644-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"category_id","value":"'test_id'"},{"name":"expected_code","value":"200"},{"name":"payload","value":"{}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"34f7c41c85381979","status":"broken","statusDetails":"requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=3000): Max retries exceeded with url: /whiskerguardregulatoryservice/api/enterprise/categories/partialUpdate/test_id (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001293E253890>: Failed to establish a new connection: [WinError 10061] 由于目标计算机积极拒绝，无法连接。'))","time":{"start":1745741632435,"stop":1745741634479,"duration":2044}},{"uid":"85df101dbeaf9e8c","status":"broken","statusDetails":"requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=3000): Max retries exceeded with url: /whiskerguardregulatoryservice/api/enterprise/categories/partialUpdate/test_id (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000002E6B0EEFB10>: Failed to establish a new connection: [WinError 10061] 由于目标计算机积极拒绝，无法连接。'))","time":{"start":1745741570701,"stop":1745741572753,"duration":2052}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"5b4eee768d4d5346.json","parameterValues":["'test_id'","200","{}"]}